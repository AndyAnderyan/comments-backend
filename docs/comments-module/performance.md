# Продуктивність і масштабування

## Вимоги
- Завантаження списку коментарів ≤ 2 сек при до 1000 записів на об’єкт

## Пагінація
- Серверна пагінація для тредів і пошуку: `page`, `pageSize`
- Ліміти: `pageSize` до 100 (конфігурується)

## Сортування і індексація
- Основне сортування: `lastActivityAt DESC`
- Індекси БД: `(layerTypeId, objectId, lastActivityAt)`, `createdAt`, `authorId`

## Кешування
- Front-end: мемоізація в NgRx, нормалізація тредів, cache bust по WS подіях
- Back-end: ETag/Last-Modified для списків, опціонально короткий in-memory cache для індекса об’єктів

## Трансмісія
- Відповіді компактні, без зайвих полів; пагінація обмежує розмір
- WS — надсилати лише дельти (id, стани), не повні колекції
